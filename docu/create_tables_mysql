create table message (
  message_id varchar(32) character set 'latin1' not null,
  client_message_id varchar(32) character set 'latin1' default null,
  is_deleted bit(1) default null,
  posted_at bigint(20) default null,
  room_id varchar(32) character set 'latin1' default null,
  sender_person_id varchar(32) character set 'latin1' default null,
  text varchar(5000) collate 'utf8mb4_unicode_ci' default null,
  updated_at bigint(20) default null,
  primary key (message_id)
) charset='utf8mb4' collate='utf8mb4_unicode_ci'
;
create table person (
  person_id varchar(32) character set 'latin1' not null,
  first_name varchar(50) collate 'utf8mb4_unicode_ci' default null,
  last_name varchar(50) collate 'utf8mb4_unicode_ci' default null,
  nick_name varchar(50) collate 'utf8mb4_unicode_ci' default null,
  picture_id varchar(32) character set 'latin1' default null,
  primary key (person_id)
) charset='utf8mb4' collate='utf8mb4_unicode_ci'
;
create table room (
  room_id varchar(32) character set 'latin1' not null,
  changed_at bigint(20) default null,
  name varchar(50) collate 'utf8mb4_unicode_ci' default null,
  picture_id varchar(32) character set 'latin1' default null,
  room_type varchar(10) character set 'latin1' default null,
  short_name varchar(4) collate 'utf8mb4_unicode_ci' default null,
  primary key (room_id)
) charset='utf8mb4' collate='utf8mb4_unicode_ci'
;
create table room_member (
  person_id varchar(32) not null,
  room_id varchar(32) not null,
  primary key (person_id,room_id)
) charset='latin1'
;
create table subscription (
  app_id varchar(128) not null,
  device_token varchar(200) not null,
  target_type varchar(32) not null,
  user_id varchar(32) not null,
  app_version varchar(32) default null,
  changed_at bigint(20) default null,
  client_account_id varchar(100) default null,
  device_id varchar(32) default null,
  device_type varchar(32) default null,
  encryption varchar(32) default null,
  is_active bit(1) default null,
  language varchar(5) default null,
  os_version varchar(32) default null,
  user_consent bit(1) default null,
  primary key (app_id,device_token,target_type,user_id)
) charset='latin1'
;
create table symbolic_file (
  file_id varchar(32) character set 'latin1' not null,
  directory varchar(20) character set 'latin1' default null,
  mime_type varchar(100) character set 'latin1' default null,
  position int(11) default null,
  reference_id varchar(32) character set 'latin1' default null,
  text varchar(200) collate 'utf8mb4_unicode_ci' default null,
  primary key (file_id)
) charset='utf8mb4' collate='utf8mb4_unicode_ci'
;
create table tenant_parameter (
  name varchar(20) not null,
  value varchar(100) default null,
  primary key (name)
) charset='latin1'
;
create table user (
  user_id varchar(32) not null,
  has_admin_role bit(1) default null,
  has_user_role bit(1) default null,
  password_hash varchar(200) default null,
  person_id varchar(32) default null,
  primary key (user_id)
) charset='latin1'
;
create table viewed_confirmation (
  message_id varchar(32) not null,
  person_id varchar(32) not null,
  confirmed_at bigint(20) default null,
  message_posted_at bigint(20) default null,
  room_id varchar(32) default null,
  primary key (message_id,person_id)
) charset='latin1'
;
